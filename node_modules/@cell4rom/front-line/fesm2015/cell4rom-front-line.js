import { Injectable, Component, EventEmitter, Input, Output, NgModule, defineInjectable } from '@angular/core';
import { ActivatedRoute, Router } from '@angular/router';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class RsPaginationLibService {
    constructor() { }
}
RsPaginationLibService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
RsPaginationLibService.ctorParameters = () => [];
/** @nocollapse */ RsPaginationLibService.ngInjectableDef = defineInjectable({ factory: function RsPaginationLibService_Factory() { return new RsPaginationLibService(); }, token: RsPaginationLibService, providedIn: "root" });

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * #### Pagination within API RSET
 *
 * Author : romdhanisamir94\@gmail.com
 */
class RsPaginationLibComponent {
    /**
     * @param {?} activatedRoute
     * @param {?} router
     */
    constructor(activatedRoute, router) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.sizes = [5, 10, 20];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    lastPage() {
        this.router.navigate([], {
            relativeTo: this.activatedRoute,
            queryParams: { page: this.pagesNumber },
            queryParamsHandling: "merge"
        });
    }
    /**
     * @return {?}
     */
    firstPage() {
        this.router.navigate([], {
            relativeTo: this.activatedRoute,
            queryParams: { page: 1 },
            queryParamsHandling: "merge"
        });
    }
    /**
     * @return {?}
     */
    previousPage() {
        this.router.navigate([], {
            relativeTo: this.activatedRoute,
            queryParams: { page: --this.page },
            queryParamsHandling: "merge"
        });
    }
    /**
     * @return {?}
     */
    nextPage() {
        this.router.navigate([], {
            relativeTo: this.activatedRoute,
            queryParams: { page: ++this.page },
            queryParamsHandling: "merge"
        });
    }
    /**
     * @return {?}
     */
    changeSize() {
        this.router.navigate([], {
            relativeTo: this.activatedRoute,
            queryParams: { size: this.currentSize },
            queryParamsHandling: "merge"
        });
    }
}
RsPaginationLibComponent.decorators = [
    { type: Component, args: [{
                selector: 'rs-pagination-api',
                template: `
  <div *ngIf="pagesNumber >= 1">
	<div class="row">
			<div class="col-md-12">
				<button class='btn btn-info btn-sm m-l-1em' (click)="firstPage()" [disabled]="page === 1"><i class="fa fa-angle-double-left"></i></button>
				<button class='btn btn-info btn-sm m-l-1em' (click)="previousPage()" [disabled]="page == 1"><i class="fa fa-angle-left"></i></button>
				<span style="margin-left: 10px;margin-right: 10px;">Page {{page}}/{{pagesNumber}}</span> 
				<span>  </span>
        <span style="margin-left: 10px;margin-right: 10px;">Size</span>
				<select class="form-control form-control-sm pageSizeSelectBox" id="currentSize" name="currentSize" [(ngModel)]="currentSize" (change)="changeSize()">
					<option *ngFor="let size of sizes" value="{{size}}">{{size}}</option>
        </select>
				<button class='btn btn-info btn-sm m-l-1em' (click)="nextPage()" [disabled]="page === pagesNumber"><i class="fa fa-angle-right"></i></button>
				<button class='btn btn-info btn-sm m-l-1em' (click)="lastPage()" [disabled]="page === pagesNumber"><i class="fa fa-angle-double-right"></i></button>
			</div>
	</div>
</div>
  `,
                styles: [`
  .m-l-1em { 
    margin-left:1em; 
    width: 25px;
  }
  
  .pageSizeSelectBox {
    display: -webkit-inline-box;
    width: 11%;
    padding: 5px; 
  }
  
  `]
            }] }
];
/** @nocollapse */
RsPaginationLibComponent.ctorParameters = () => [
    { type: ActivatedRoute },
    { type: Router }
];
RsPaginationLibComponent.propDecorators = {
    page: [{ type: Input }],
    pagesNumber: [{ type: Input }],
    currentSize: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @param {?} totalItems
 * @param {?=} currentPage
 * @param {?=} pageSize
 * @param {?=} maxPages
 * @return {?}
 */
function paginate(totalItems, currentPage = 1, pageSize = 5, maxPages = 10) {
    /** @type {?} */
    let totalPages = Math.ceil(totalItems / pageSize);
    // ensure current page isn't out of range
    if (currentPage < 1) {
        currentPage = 1;
    }
    else if (currentPage > totalPages) {
        currentPage = totalPages;
    }
    /** @type {?} */
    let startPage;
    /** @type {?} */
    let endPage;
    if (totalPages <= maxPages) {
        // total pages less than max so show all pages
        startPage = 1;
        endPage = totalPages;
    }
    else {
        /** @type {?} */
        let maxPagesBeforeCurrentPage = Math.floor(maxPages / 2);
        /** @type {?} */
        let maxPagesAfterCurrentPage = Math.ceil(maxPages / 2) - 1;
        if (currentPage <= maxPagesBeforeCurrentPage) {
            // current page near the start
            startPage = 1;
            endPage = maxPages;
        }
        else if (currentPage + maxPagesAfterCurrentPage >= totalPages) {
            // current page near the end
            startPage = totalPages - maxPages + 1;
            endPage = totalPages;
        }
        else {
            // current page somewhere in the middle
            startPage = currentPage - maxPagesBeforeCurrentPage;
            endPage = currentPage + maxPagesAfterCurrentPage;
        }
    }
    /** @type {?} */
    let startIndex = (currentPage - 1) * pageSize;
    /** @type {?} */
    let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);
    /** @type {?} */
    let pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);
    // return object with all pager properties required by the view
    return {
        totalItems: totalItems,
        currentPage: currentPage,
        pageSize: pageSize,
        totalPages: totalPages,
        startPage: startPage,
        endPage: endPage,
        startIndex: startIndex,
        endIndex: endIndex,
        pages: pages
    };
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * #### Pagination without API RSET
 *
 * Author : romdhanisamir94\@gmail.com
 */
class RsPaginationComponent {
    constructor() {
        this.currentPage = 1;
        this.sizes = [5, 10, 20];
        this.changePage = new EventEmitter(true);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (this.items && this.items.length) {
            this.pagesNumber = Math.ceil(this.items.length / this.currentSize);
            this.setPage(this.currentPage);
        }
    }
    /**
     * @return {?}
     */
    lastPage() {
        this.currentPage = this.pagesNumber;
        this.setPage(this.currentPage);
    }
    /**
     * @return {?}
     */
    firstPage() {
        this.currentPage = 1;
        this.setPage(this.currentPage);
    }
    /**
     * @return {?}
     */
    previousPage() {
        this.currentPage = this.currentPage - 1;
        this.setPage(this.currentPage);
    }
    /**
     * @return {?}
     */
    nextPage() {
        this.currentPage = this.currentPage + 1;
        this.setPage(this.currentPage);
    }
    /**
     * @param {?} size
     * @return {?}
     */
    changeSize(size) {
        this.setSize(size);
    }
    /**
     * @param {?} page
     * @return {?}
     */
    setPage(page) {
        /** @type {?} */
        let pager = paginate(this.items.length, page, this.currentSize);
        this.currentPage = pager.currentPage;
        this.pagesNumber = pager.totalPages;
        /** @type {?} */
        var pageOfItems = this.items.slice(pager.startIndex, pager.endIndex + 1);
        this.changePage.emit(pageOfItems);
    }
    /**
     * @param {?} size
     * @return {?}
     */
    setSize(size) {
        /** @type {?} */
        let pager = paginate(this.items.length, this.currentPage, size);
        this.currentPage = pager.currentPage;
        this.pagesNumber = pager.totalPages;
        /** @type {?} */
        var pageOfItems = this.items.slice(pager.startIndex, pager.endIndex + 1);
        this.changePage.emit(pageOfItems);
    }
}
RsPaginationComponent.decorators = [
    { type: Component, args: [{
                selector: 'rs-pagination',
                template: `
  <div>
	<div class="row">
			<div class="col-md-12">
				<button class='btn btn-info btn-sm m-l-1em' (click)="firstPage()" [disabled]="currentPage === 1"><i class="fa fa-angle-double-left"></i></button>
				<button class='btn btn-info btn-sm m-l-1em' (click)="previousPage()" [disabled]="currentPage == 1"><i class="fa fa-angle-left"></i></button>
				<span style="margin-left: 10px;margin-right: 10px;">Page {{currentPage}}/{{pagesNumber}}</span> 
				<span>  </span>
        <span style="margin-left: 10px;margin-right: 10px;">Size</span>
        <select class="form-control form-control-sm pageSizeSelectBox" id="currentSize" 
                name="currentSize" [(ngModel)]="currentSize" (change)="changeSize(currentSize)">
					<option *ngFor="let size of sizes" value="{{size}}">{{size}}</option>
        </select>
				<button class='btn btn-info btn-sm m-l-1em' (click)="nextPage()" [disabled]="currentPage === pagesNumber"><i class="fa fa-angle-right"></i></button>
				<button class='btn btn-info btn-sm m-l-1em' (click)="lastPage()" [disabled]="currentPage === pagesNumber"><i class="fa fa-angle-double-right"></i></button>
			</div>
	</div>
</div>
  `,
                styles: [`
  .m-l-1em { 
    margin-left:1em; 
    width: 25px;
  }
  
  .pageSizeSelectBox {
    display: -webkit-inline-box;
    width: 11%;
    padding: 5px; 
  }
  
  `]
            }] }
];
/** @nocollapse */
RsPaginationComponent.ctorParameters = () => [];
RsPaginationComponent.propDecorators = {
    items: [{ type: Input }],
    currentSize: [{ type: Input }],
    changePage: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Author : romdhanisamir94\@gmail.com
 */
class RsPaginationModule {
}
RsPaginationModule.decorators = [
    { type: NgModule, args: [{
                declarations: [
                    RsPaginationLibComponent,
                    RsPaginationComponent
                ],
                imports: [
                    CommonModule,
                    FormsModule
                ],
                exports: [
                    RsPaginationLibComponent,
                    RsPaginationComponent
                ]
            },] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { RsPaginationLibService, RsPaginationLibComponent, RsPaginationModule, RsPaginationComponent as Éµa };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2VsbDRyb20tZnJvbnQtbGluZS5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vQGNlbGw0cm9tL2Zyb250LWxpbmUvbGliL3JzLXBhZ2luYXRpb24tbGliLnNlcnZpY2UudHMiLCJuZzovL0BjZWxsNHJvbS9mcm9udC1saW5lL2xpYi9ycy1wYWdpbmF0aW9uLWxpYi5jb21wb25lbnQudHMiLCJuZzovL0BjZWxsNHJvbS9mcm9udC1saW5lL2xpYi92Mi9ycy1tb2RlbC50cyIsIm5nOi8vQGNlbGw0cm9tL2Zyb250LWxpbmUvbGliL3YyL3JzLXBhZ2luYXRpb24uY29tcG9uZW50LnRzIiwibmc6Ly9AY2VsbDRyb20vZnJvbnQtbGluZS9saWIvcnMtcGFnaW5hdGlvbi1saWIubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIFJzUGFnaW5hdGlvbkxpYlNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbi8qKlxuICogIyMjIyBQYWdpbmF0aW9uIHdpdGhpbiBBUEkgUlNFVFxuICogXG4gKiBBdXRob3IgOiByb21kaGFuaXNhbWlyOTRAZ21haWwuY29tXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3JzLXBhZ2luYXRpb24tYXBpJyxcbiAgdGVtcGxhdGU6IGBcbiAgPGRpdiAqbmdJZj1cInBhZ2VzTnVtYmVyID49IDFcIj5cblx0PGRpdiBjbGFzcz1cInJvd1wiPlxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPSdidG4gYnRuLWluZm8gYnRuLXNtIG0tbC0xZW0nIChjbGljayk9XCJmaXJzdFBhZ2UoKVwiIFtkaXNhYmxlZF09XCJwYWdlID09PSAxXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1kb3VibGUtbGVmdFwiPjwvaT48L2J1dHRvbj5cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1pbmZvIGJ0bi1zbSBtLWwtMWVtJyAoY2xpY2spPVwicHJldmlvdXNQYWdlKClcIiBbZGlzYWJsZWRdPVwicGFnZSA9PSAxXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPjwvYnV0dG9uPlxuXHRcdFx0XHQ8c3BhbiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAxMHB4O21hcmdpbi1yaWdodDogMTBweDtcIj5QYWdlIHt7cGFnZX19L3t7cGFnZXNOdW1iZXJ9fTwvc3Bhbj4gXG5cdFx0XHRcdDxzcGFuPiAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAxMHB4O21hcmdpbi1yaWdodDogMTBweDtcIj5TaXplPC9zcGFuPlxuXHRcdFx0XHQ8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1zbSBwYWdlU2l6ZVNlbGVjdEJveFwiIGlkPVwiY3VycmVudFNpemVcIiBuYW1lPVwiY3VycmVudFNpemVcIiBbKG5nTW9kZWwpXT1cImN1cnJlbnRTaXplXCIgKGNoYW5nZSk9XCJjaGFuZ2VTaXplKClcIj5cblx0XHRcdFx0XHQ8b3B0aW9uICpuZ0Zvcj1cImxldCBzaXplIG9mIHNpemVzXCIgdmFsdWU9XCJ7e3NpemV9fVwiPnt7c2l6ZX19PC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPSdidG4gYnRuLWluZm8gYnRuLXNtIG0tbC0xZW0nIChjbGljayk9XCJuZXh0UGFnZSgpXCIgW2Rpc2FibGVkXT1cInBhZ2UgPT09IHBhZ2VzTnVtYmVyXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1yaWdodFwiPjwvaT48L2J1dHRvbj5cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1pbmZvIGJ0bi1zbSBtLWwtMWVtJyAoY2xpY2spPVwibGFzdFBhZ2UoKVwiIFtkaXNhYmxlZF09XCJwYWdlID09PSBwYWdlc051bWJlclwiPjxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtZG91YmxlLXJpZ2h0XCI+PC9pPjwvYnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdDwvZGl2PlxuPC9kaXY+XG4gIGAsXG4gIHN0eWxlczogW2BcbiAgLm0tbC0xZW0geyBcbiAgICBtYXJnaW4tbGVmdDoxZW07IFxuICAgIHdpZHRoOiAyNXB4O1xuICB9XG4gIFxuICAucGFnZVNpemVTZWxlY3RCb3gge1xuICAgIGRpc3BsYXk6IC13ZWJraXQtaW5saW5lLWJveDtcbiAgICB3aWR0aDogMTElO1xuICAgIHBhZGRpbmc6IDVweDsgXG4gIH1cbiAgXG4gIGBdXG59KVxuZXhwb3J0IGNsYXNzIFJzUGFnaW5hdGlvbkxpYkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQElucHV0KCkgcGFnZTogbnVtYmVyO1xuICBASW5wdXQoKSBwYWdlc051bWJlcjogbnVtYmVyO1xuICBASW5wdXQoKSBjdXJyZW50U2l6ZTogbnVtYmVyO1xuXG4gIHB1YmxpYyBzaXplcyA9IFs1LCAxMCwgMjBdXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlclxuICApIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICB9XG5cbiAgXG4gIGxhc3RQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtdLCBcbiAgICAgIHtcbiAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5hY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHtwYWdlOiB0aGlzLnBhZ2VzTnVtYmVyfSwgXG4gICAgICAgIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IFwibWVyZ2VcIlxuICAgICAgfSk7XG4gIH1cblxuICBmaXJzdFBhZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW10sIFxuICAgICAge1xuICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLmFjdGl2YXRlZFJvdXRlLFxuICAgICAgICBxdWVyeVBhcmFtczoge3BhZ2U6IDF9LCBcbiAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogXCJtZXJnZVwiXG4gICAgICB9KTtcbiAgfVxuXG4gIHByZXZpb3VzUGFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbXSwgXG4gICAgICB7XG4gICAgICAgIHJlbGF0aXZlVG86IHRoaXMuYWN0aXZhdGVkUm91dGUsXG4gICAgICAgIHF1ZXJ5UGFyYW1zOiB7cGFnZTogLS10aGlzLnBhZ2V9LCBcbiAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogXCJtZXJnZVwiXG4gICAgICB9KTtcbiAgfVxuXG4gIG5leHRQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtdLCBcbiAgICAgIHtcbiAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5hY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHtwYWdlOiArK3RoaXMucGFnZX0sIFxuICAgICAgICBxdWVyeVBhcmFtc0hhbmRsaW5nOiBcIm1lcmdlXCJcbiAgICAgIH0pO1xuICB9XG5cbiAgIGNoYW5nZVNpemUoKTogdm9pZCB7XG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW10sIFxuICAgICAge1xuICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLmFjdGl2YXRlZFJvdXRlLFxuICAgICAgICBxdWVyeVBhcmFtczoge3NpemU6IHRoaXMuY3VycmVudFNpemV9LCBcbiAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogXCJtZXJnZVwiXG4gICAgICB9KTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFnaW5hdGUoXG4gICAgdG90YWxJdGVtczogbnVtYmVyLFxuICAgIGN1cnJlbnRQYWdlOiBudW1iZXIgPSAxLFxuICAgIHBhZ2VTaXplOiBudW1iZXIgPSA1LFxuICAgIG1heFBhZ2VzOiBudW1iZXIgPSAxMFxuICApIHtcbiAgICAvLyBjYWxjdWxhdGUgdG90YWwgcGFnZXNcbiAgICBsZXQgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbEl0ZW1zIC8gcGFnZVNpemUpO1xuICBcbiAgICAvLyBlbnN1cmUgY3VycmVudCBwYWdlIGlzbid0IG91dCBvZiByYW5nZVxuICAgIGlmIChjdXJyZW50UGFnZSA8IDEpIHsgXG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTsgXG4gICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA+IHRvdGFsUGFnZXMpIHsgXG4gICAgICAgIGN1cnJlbnRQYWdlID0gdG90YWxQYWdlczsgXG4gICAgfVxuICBcbiAgICBsZXQgc3RhcnRQYWdlOiBudW1iZXIsIGVuZFBhZ2U6IG51bWJlcjtcbiAgICBpZiAodG90YWxQYWdlcyA8PSBtYXhQYWdlcykge1xuICAgICAgLy8gdG90YWwgcGFnZXMgbGVzcyB0aGFuIG1heCBzbyBzaG93IGFsbCBwYWdlc1xuICAgICAgc3RhcnRQYWdlID0gMTtcbiAgICAgIGVuZFBhZ2UgPSB0b3RhbFBhZ2VzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0b3RhbCBwYWdlcyBtb3JlIHRoYW4gbWF4IHNvIGNhbGN1bGF0ZSBzdGFydCBhbmQgZW5kIHBhZ2VzXG4gICAgICBsZXQgbWF4UGFnZXNCZWZvcmVDdXJyZW50UGFnZSA9IE1hdGguZmxvb3IobWF4UGFnZXMgLyAyKTtcbiAgICAgIGxldCBtYXhQYWdlc0FmdGVyQ3VycmVudFBhZ2UgPSBNYXRoLmNlaWwobWF4UGFnZXMgLyAyKSAtIDE7XG4gICAgICBpZiAoY3VycmVudFBhZ2UgPD0gbWF4UGFnZXNCZWZvcmVDdXJyZW50UGFnZSkge1xuICAgICAgICAvLyBjdXJyZW50IHBhZ2UgbmVhciB0aGUgc3RhcnRcbiAgICAgICAgc3RhcnRQYWdlID0gMTtcbiAgICAgICAgZW5kUGFnZSA9IG1heFBhZ2VzO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSArIG1heFBhZ2VzQWZ0ZXJDdXJyZW50UGFnZSA+PSB0b3RhbFBhZ2VzKSB7XG4gICAgICAgIC8vIGN1cnJlbnQgcGFnZSBuZWFyIHRoZSBlbmRcbiAgICAgICAgc3RhcnRQYWdlID0gdG90YWxQYWdlcyAtIG1heFBhZ2VzICsgMTtcbiAgICAgICAgZW5kUGFnZSA9IHRvdGFsUGFnZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjdXJyZW50IHBhZ2Ugc29tZXdoZXJlIGluIHRoZSBtaWRkbGVcbiAgICAgICAgc3RhcnRQYWdlID0gY3VycmVudFBhZ2UgLSBtYXhQYWdlc0JlZm9yZUN1cnJlbnRQYWdlO1xuICAgICAgICBlbmRQYWdlID0gY3VycmVudFBhZ2UgKyBtYXhQYWdlc0FmdGVyQ3VycmVudFBhZ2U7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICAvLyBjYWxjdWxhdGUgc3RhcnQgYW5kIGVuZCBpdGVtIGluZGV4ZXNcbiAgICBsZXQgc3RhcnRJbmRleCA9IChjdXJyZW50UGFnZSAtIDEpICogcGFnZVNpemU7XG4gICAgbGV0IGVuZEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCArIHBhZ2VTaXplIC0gMSwgdG90YWxJdGVtcyAtIDEpO1xuICBcbiAgICAvLyBjcmVhdGUgYW4gYXJyYXkgb2YgcGFnZXMgdG8gbmctcmVwZWF0IGluIHRoZSBwYWdlciBjb250cm9sXG4gICAgbGV0IHBhZ2VzID0gQXJyYXkuZnJvbShBcnJheSgoZW5kUGFnZSArIDEpIC0gc3RhcnRQYWdlKS5rZXlzKCkpLm1hcChpID0+IHN0YXJ0UGFnZSArIGkpO1xuICBcbiAgICAvLyByZXR1cm4gb2JqZWN0IHdpdGggYWxsIHBhZ2VyIHByb3BlcnRpZXMgcmVxdWlyZWQgYnkgdGhlIHZpZXdcbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxJdGVtczogdG90YWxJdGVtcyxcbiAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICAgIHRvdGFsUGFnZXM6IHRvdGFsUGFnZXMsXG4gICAgICBzdGFydFBhZ2U6IHN0YXJ0UGFnZSxcbiAgICAgIGVuZFBhZ2U6IGVuZFBhZ2UsXG4gICAgICBzdGFydEluZGV4OiBzdGFydEluZGV4LFxuICAgICAgZW5kSW5kZXg6IGVuZEluZGV4LFxuICAgICAgcGFnZXM6IHBhZ2VzXG4gICAgfTtcbiAgfSIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBFdmVudEVtaXR0ZXIsIElucHV0LCBTaW1wbGVDaGFuZ2VzLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHBhZ2luYXRlIH0gZnJvbSAnLi9ycy1tb2RlbCc7XG5cbi8qKlxuICogIyMjIyBQYWdpbmF0aW9uIHdpdGhvdXQgQVBJIFJTRVRcbiAqIFxuICogQXV0aG9yIDogcm9tZGhhbmlzYW1pcjk0QGdtYWlsLmNvbVxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdycy1wYWdpbmF0aW9uJyxcbiAgdGVtcGxhdGU6IGBcbiAgPGRpdj5cblx0PGRpdiBjbGFzcz1cInJvd1wiPlxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPSdidG4gYnRuLWluZm8gYnRuLXNtIG0tbC0xZW0nIChjbGljayk9XCJmaXJzdFBhZ2UoKVwiIFtkaXNhYmxlZF09XCJjdXJyZW50UGFnZSA9PT0gMVwiPjxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtZG91YmxlLWxlZnRcIj48L2k+PC9idXR0b24+XG5cdFx0XHRcdDxidXR0b24gY2xhc3M9J2J0biBidG4taW5mbyBidG4tc20gbS1sLTFlbScgKGNsaWNrKT1cInByZXZpb3VzUGFnZSgpXCIgW2Rpc2FibGVkXT1cImN1cnJlbnRQYWdlID09IDFcIj48aSBjbGFzcz1cImZhIGZhLWFuZ2xlLWxlZnRcIj48L2k+PC9idXR0b24+XG5cdFx0XHRcdDxzcGFuIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDEwcHg7bWFyZ2luLXJpZ2h0OiAxMHB4O1wiPlBhZ2Uge3tjdXJyZW50UGFnZX19L3t7cGFnZXNOdW1iZXJ9fTwvc3Bhbj4gXG5cdFx0XHRcdDxzcGFuPiAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAxMHB4O21hcmdpbi1yaWdodDogMTBweDtcIj5TaXplPC9zcGFuPlxuICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1zbSBwYWdlU2l6ZVNlbGVjdEJveFwiIGlkPVwiY3VycmVudFNpemVcIiBcbiAgICAgICAgICAgICAgICBuYW1lPVwiY3VycmVudFNpemVcIiBbKG5nTW9kZWwpXT1cImN1cnJlbnRTaXplXCIgKGNoYW5nZSk9XCJjaGFuZ2VTaXplKGN1cnJlbnRTaXplKVwiPlxuXHRcdFx0XHRcdDxvcHRpb24gKm5nRm9yPVwibGV0IHNpemUgb2Ygc2l6ZXNcIiB2YWx1ZT1cInt7c2l6ZX19XCI+e3tzaXplfX08L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG5cdFx0XHRcdDxidXR0b24gY2xhc3M9J2J0biBidG4taW5mbyBidG4tc20gbS1sLTFlbScgKGNsaWNrKT1cIm5leHRQYWdlKClcIiBbZGlzYWJsZWRdPVwiY3VycmVudFBhZ2UgPT09IHBhZ2VzTnVtYmVyXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1yaWdodFwiPjwvaT48L2J1dHRvbj5cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1pbmZvIGJ0bi1zbSBtLWwtMWVtJyAoY2xpY2spPVwibGFzdFBhZ2UoKVwiIFtkaXNhYmxlZF09XCJjdXJyZW50UGFnZSA9PT0gcGFnZXNOdW1iZXJcIj48aSBjbGFzcz1cImZhIGZhLWFuZ2xlLWRvdWJsZS1yaWdodFwiPjwvaT48L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbjwvZGl2PlxuICBgLFxuICBzdHlsZXM6IFtgXG4gIC5tLWwtMWVtIHsgXG4gICAgbWFyZ2luLWxlZnQ6MWVtOyBcbiAgICB3aWR0aDogMjVweDtcbiAgfVxuICBcbiAgLnBhZ2VTaXplU2VsZWN0Qm94IHtcbiAgICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1ib3g7XG4gICAgd2lkdGg6IDExJTtcbiAgICBwYWRkaW5nOiA1cHg7IFxuICB9XG4gIFxuICBgXVxufSlcbmV4cG9ydCBjbGFzcyBSc1BhZ2luYXRpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpIGl0ZW1zOiBBcnJheTxhbnk+O1xuICBASW5wdXQoKSBjdXJyZW50U2l6ZSA6IG51bWJlcjtcblxuICBjdXJyZW50UGFnZTogbnVtYmVyID0gMSA7XG4gIHBhZ2VzTnVtYmVyOiBudW1iZXIgO1xuXG4gIHB1YmxpYyBzaXplcyA9IFs1LCAxMCwgMjBdXG4gIFxuICBAT3V0cHV0KCkgY2hhbmdlUGFnZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55Pih0cnVlKTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICBpZih0aGlzLml0ZW1zICYmIHRoaXMuaXRlbXMubGVuZ3RoKXtcbiAgICAgIHRoaXMucGFnZXNOdW1iZXIgPSBNYXRoLmNlaWwodGhpcy5pdGVtcy5sZW5ndGggLyB0aGlzLmN1cnJlbnRTaXplKSA7XG4gICAgICB0aGlzLnNldFBhZ2UodGhpcy5jdXJyZW50UGFnZSk7XG4gICAgfVxuICB9XG5cblxuICBsYXN0UGFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc051bWJlciA7IFxuICAgIHRoaXMuc2V0UGFnZSh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgfVxuXG4gIGZpcnN0UGFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gMSA7IFxuICAgIHRoaXMuc2V0UGFnZSh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgfVxuXG4gIHByZXZpb3VzUGFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSAtIDEgO1xuICAgIHRoaXMuc2V0UGFnZSh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgfVxuXG4gIG5leHRQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlICsgMSA7XG4gICAgdGhpcy5zZXRQYWdlKHRoaXMuY3VycmVudFBhZ2UpO1xuICB9XG5cbiAgIGNoYW5nZVNpemUoc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRTaXplKHNpemUpO1xuICB9XG5cblxuICBwcml2YXRlIHNldFBhZ2UocGFnZTogbnVtYmVyKSB7XG4gICAgbGV0IHBhZ2VyID0gcGFnaW5hdGUodGhpcy5pdGVtcy5sZW5ndGgsIHBhZ2UsIHRoaXMuY3VycmVudFNpemUpO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlci5jdXJyZW50UGFnZSA7XG4gICAgdGhpcy5wYWdlc051bWJlciA9IHBhZ2VyLnRvdGFsUGFnZXMgO1xuICAgIHZhciBwYWdlT2ZJdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UocGFnZXIuc3RhcnRJbmRleCwgcGFnZXIuZW5kSW5kZXggKyAxKTtcbiAgICB0aGlzLmNoYW5nZVBhZ2UuZW1pdChwYWdlT2ZJdGVtcyk7XG4gIH1cblxuICBwcml2YXRlIHNldFNpemUoc2l6ZTogbnVtYmVyKSB7XG4gICAgbGV0IHBhZ2VyID0gcGFnaW5hdGUodGhpcy5pdGVtcy5sZW5ndGgsIHRoaXMuY3VycmVudFBhZ2UgLHNpemUpO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlci5jdXJyZW50UGFnZSA7XG4gICAgdGhpcy5wYWdlc051bWJlciA9IHBhZ2VyLnRvdGFsUGFnZXMgO1xuICAgIHZhciBwYWdlT2ZJdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UocGFnZXIuc3RhcnRJbmRleCwgcGFnZXIuZW5kSW5kZXggKyAxKTtcbiAgICB0aGlzLmNoYW5nZVBhZ2UuZW1pdChwYWdlT2ZJdGVtcyk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJzUGFnaW5hdGlvbkxpYkNvbXBvbmVudCB9IGZyb20gJy4vcnMtcGFnaW5hdGlvbi1saWIuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFJzUGFnaW5hdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdjIvcnMtcGFnaW5hdGlvbi5jb21wb25lbnQnO1xuLyoqXG4gKiBBdXRob3IgOiByb21kaGFuaXNhbWlyOTRAZ21haWwuY29tXG4gKi9cbkBOZ01vZHVsZSh7XG4gIGRlY2xhcmF0aW9uczogW1xuICAgIFJzUGFnaW5hdGlvbkxpYkNvbXBvbmVudCxcbiAgICBSc1BhZ2luYXRpb25Db21wb25lbnRcbiAgXSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBGb3Jtc01vZHVsZVxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgUnNQYWdpbmF0aW9uTGliQ29tcG9uZW50LFxuICAgIFJzUGFnaW5hdGlvbkNvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFJzUGFnaW5hdGlvbk1vZHVsZSB7IH1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtJQU1FLGlCQUFpQjs7O1lBTGxCLFVBQVUsU0FBQztnQkFDVixVQUFVLEVBQUUsTUFBTTthQUNuQjs7Ozs7Ozs7OztBQ0hEOzs7OztBQTBDQTs7Ozs7SUFRRSxZQUNVLGdCQUNBO1FBREEsbUJBQWMsR0FBZCxjQUFjO1FBQ2QsV0FBTSxHQUFOLE1BQU07cUJBSkQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FB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