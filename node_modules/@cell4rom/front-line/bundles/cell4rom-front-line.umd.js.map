{"version":3,"file":"cell4rom-front-line.umd.js.map","sources":["ng://@cell4rom/front-line/lib/rs-pagination-lib.service.ts","ng://@cell4rom/front-line/lib/rs-pagination-lib.component.ts","ng://@cell4rom/front-line/lib/v2/rs-model.ts","ng://@cell4rom/front-line/lib/v2/rs-pagination.component.ts","ng://@cell4rom/front-line/lib/rs-pagination-lib.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n@Injectable({\n  providedIn: 'root'\n})\nexport class RsPaginationLibService {\n\n  constructor() { }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n/**\n * #### Pagination within API RSET\n * \n * Author : romdhanisamir94@gmail.com\n */\n@Component({\n  selector: 'rs-pagination-api',\n  template: `\n  <div *ngIf=\"pagesNumber >= 1\">\n\t<div class=\"row\">\n\t\t\t<div class=\"col-md-12\">\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"firstPage()\" [disabled]=\"page === 1\"><i class=\"fa fa-angle-double-left\"></i></button>\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"previousPage()\" [disabled]=\"page == 1\"><i class=\"fa fa-angle-left\"></i></button>\n\t\t\t\t<span style=\"margin-left: 10px;margin-right: 10px;\">Page {{page}}/{{pagesNumber}}</span> \n\t\t\t\t<span>  </span>\n        <span style=\"margin-left: 10px;margin-right: 10px;\">Size</span>\n\t\t\t\t<select class=\"form-control form-control-sm pageSizeSelectBox\" id=\"currentSize\" name=\"currentSize\" [(ngModel)]=\"currentSize\" (change)=\"changeSize()\">\n\t\t\t\t\t<option *ngFor=\"let size of sizes\" value=\"{{size}}\">{{size}}</option>\n        </select>\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"nextPage()\" [disabled]=\"page === pagesNumber\"><i class=\"fa fa-angle-right\"></i></button>\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"lastPage()\" [disabled]=\"page === pagesNumber\"><i class=\"fa fa-angle-double-right\"></i></button>\n\t\t\t</div>\n\t</div>\n</div>\n  `,\n  styles: [`\n  .m-l-1em { \n    margin-left:1em; \n    width: 25px;\n  }\n  \n  .pageSizeSelectBox {\n    display: -webkit-inline-box;\n    width: 11%;\n    padding: 5px; \n  }\n  \n  `]\n})\nexport class RsPaginationLibComponent implements OnInit {\n\n  @Input() page: number;\n  @Input() pagesNumber: number;\n  @Input() currentSize: number;\n\n  public sizes = [5, 10, 20]\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n  }\n\n  \n  lastPage(): void {\n    this.router.navigate([], \n      {\n        relativeTo: this.activatedRoute,\n        queryParams: {page: this.pagesNumber}, \n        queryParamsHandling: \"merge\"\n      });\n  }\n\n  firstPage(): void {\n    this.router.navigate([], \n      {\n        relativeTo: this.activatedRoute,\n        queryParams: {page: 1}, \n        queryParamsHandling: \"merge\"\n      });\n  }\n\n  previousPage(): void {\n    this.router.navigate([], \n      {\n        relativeTo: this.activatedRoute,\n        queryParams: {page: --this.page}, \n        queryParamsHandling: \"merge\"\n      });\n  }\n\n  nextPage(): void {\n    this.router.navigate([], \n      {\n        relativeTo: this.activatedRoute,\n        queryParams: {page: ++this.page}, \n        queryParamsHandling: \"merge\"\n      });\n  }\n\n   changeSize(): void {\n    this.router.navigate([], \n      {\n        relativeTo: this.activatedRoute,\n        queryParams: {size: this.currentSize}, \n        queryParamsHandling: \"merge\"\n      });\n  }\n\n}\n","export function paginate(\n    totalItems: number,\n    currentPage: number = 1,\n    pageSize: number = 5,\n    maxPages: number = 10\n  ) {\n    // calculate total pages\n    let totalPages = Math.ceil(totalItems / pageSize);\n  \n    // ensure current page isn't out of range\n    if (currentPage < 1) { \n        currentPage = 1; \n    } else if (currentPage > totalPages) { \n        currentPage = totalPages; \n    }\n  \n    let startPage: number, endPage: number;\n    if (totalPages <= maxPages) {\n      // total pages less than max so show all pages\n      startPage = 1;\n      endPage = totalPages;\n    } else {\n      // total pages more than max so calculate start and end pages\n      let maxPagesBeforeCurrentPage = Math.floor(maxPages / 2);\n      let maxPagesAfterCurrentPage = Math.ceil(maxPages / 2) - 1;\n      if (currentPage <= maxPagesBeforeCurrentPage) {\n        // current page near the start\n        startPage = 1;\n        endPage = maxPages;\n      } else if (currentPage + maxPagesAfterCurrentPage >= totalPages) {\n        // current page near the end\n        startPage = totalPages - maxPages + 1;\n        endPage = totalPages;\n      } else {\n        // current page somewhere in the middle\n        startPage = currentPage - maxPagesBeforeCurrentPage;\n        endPage = currentPage + maxPagesAfterCurrentPage;\n      }\n    }\n  \n    // calculate start and end item indexes\n    let startIndex = (currentPage - 1) * pageSize;\n    let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n  \n    // create an array of pages to ng-repeat in the pager control\n    let pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\n  \n    // return object with all pager properties required by the view\n    return {\n      totalItems: totalItems,\n      currentPage: currentPage,\n      pageSize: pageSize,\n      totalPages: totalPages,\n      startPage: startPage,\n      endPage: endPage,\n      startIndex: startIndex,\n      endIndex: endIndex,\n      pages: pages\n    };\n  }","import { Component, OnInit, EventEmitter, Input, SimpleChanges, Output } from '@angular/core';\nimport { paginate } from './rs-model';\n\n/**\n * #### Pagination without API RSET\n * \n * Author : romdhanisamir94@gmail.com\n */\n@Component({\n  selector: 'rs-pagination',\n  template: `\n  <div>\n\t<div class=\"row\">\n\t\t\t<div class=\"col-md-12\">\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"firstPage()\" [disabled]=\"currentPage === 1\"><i class=\"fa fa-angle-double-left\"></i></button>\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"previousPage()\" [disabled]=\"currentPage == 1\"><i class=\"fa fa-angle-left\"></i></button>\n\t\t\t\t<span style=\"margin-left: 10px;margin-right: 10px;\">Page {{currentPage}}/{{pagesNumber}}</span> \n\t\t\t\t<span>  </span>\n        <span style=\"margin-left: 10px;margin-right: 10px;\">Size</span>\n        <select class=\"form-control form-control-sm pageSizeSelectBox\" id=\"currentSize\" \n                name=\"currentSize\" [(ngModel)]=\"currentSize\" (change)=\"changeSize(currentSize)\">\n\t\t\t\t\t<option *ngFor=\"let size of sizes\" value=\"{{size}}\">{{size}}</option>\n        </select>\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"nextPage()\" [disabled]=\"currentPage === pagesNumber\"><i class=\"fa fa-angle-right\"></i></button>\n\t\t\t\t<button class='btn btn-info btn-sm m-l-1em' (click)=\"lastPage()\" [disabled]=\"currentPage === pagesNumber\"><i class=\"fa fa-angle-double-right\"></i></button>\n\t\t\t</div>\n\t</div>\n</div>\n  `,\n  styles: [`\n  .m-l-1em { \n    margin-left:1em; \n    width: 25px;\n  }\n  \n  .pageSizeSelectBox {\n    display: -webkit-inline-box;\n    width: 11%;\n    padding: 5px; \n  }\n  \n  `]\n})\nexport class RsPaginationComponent implements OnInit {\n\n  @Input() items: Array<any>;\n  @Input() currentSize : number;\n\n  currentPage: number = 1 ;\n  pagesNumber: number ;\n\n  public sizes = [5, 10, 20]\n  \n  @Output() changePage = new EventEmitter<any>(true);\n\n  constructor() { }\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if(this.items && this.items.length){\n      this.pagesNumber = Math.ceil(this.items.length / this.currentSize) ;\n      this.setPage(this.currentPage);\n    }\n  }\n\n\n  lastPage(): void {\n    this.currentPage = this.pagesNumber ; \n    this.setPage(this.currentPage);\n  }\n\n  firstPage(): void {\n    this.currentPage = 1 ; \n    this.setPage(this.currentPage);\n  }\n\n  previousPage(): void {\n    this.currentPage = this.currentPage - 1 ;\n    this.setPage(this.currentPage);\n  }\n\n  nextPage(): void {\n    this.currentPage = this.currentPage + 1 ;\n    this.setPage(this.currentPage);\n  }\n\n   changeSize(size: number): void {\n    this.setSize(size);\n  }\n\n\n  private setPage(page: number) {\n    let pager = paginate(this.items.length, page, this.currentSize);\n    this.currentPage = pager.currentPage ;\n    this.pagesNumber = pager.totalPages ;\n    var pageOfItems = this.items.slice(pager.startIndex, pager.endIndex + 1);\n    this.changePage.emit(pageOfItems);\n  }\n\n  private setSize(size: number) {\n    let pager = paginate(this.items.length, this.currentPage ,size);\n    this.currentPage = pager.currentPage ;\n    this.pagesNumber = pager.totalPages ;\n    var pageOfItems = this.items.slice(pager.startIndex, pager.endIndex + 1);\n    this.changePage.emit(pageOfItems);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RsPaginationLibComponent } from './rs-pagination-lib.component';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RsPaginationComponent } from './v2/rs-pagination.component';\n/**\n * Author : romdhanisamir94@gmail.com\n */\n@NgModule({\n  declarations: [\n    RsPaginationLibComponent,\n    RsPaginationComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  exports: [\n    RsPaginationLibComponent,\n    RsPaginationComponent\n  ]\n})\nexport class RsPaginationModule { }\n"],"names":["Injectable","router","Component","ActivatedRoute","Router","Input","EventEmitter","Output","NgModule","CommonModule","FormsModule"],"mappings":"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"}
